(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var l,a,o,c,i=n(1),s=n.n(i),u=n(5),r=n.n(u),b=(n(11),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,l=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),l(e),a(e),o(e),c(e)}))}),d=n(3),v=n(2),j=(n(12),n(13),n(0)),f=function(e){var t=e.value;return Object(j.jsx)("div",{className:"numberDisplay",children:t<0?"-".concat(Math.abs(t).toString().padStart(2,"0")):t.toString().padStart(3,"0")})};!function(e){e[e.none=0]="none",e[e.one=1]="one",e[e.two=2]="two",e[e.three=3]="three",e[e.four=4]="four",e[e.five=5]="five",e[e.six=6]="six",e[e.seven=7]="seven",e[e.eight=8]="eight",e[e.bomb=9]="bomb"}(l||(l={})),function(e){e[e.closed=0]="closed",e[e.visible=1]="visible",e[e.flagged=2]="flagged"}(a||(a={})),function(e){e.smile="\ud83d\ude00",e.oh="\ud83d\ude2e",e.lost="\ud83d\ude35",e.won="\ud83d\ude0e"}(o||(o={})),function(e){e[e.easy=0]="easy",e[e.normal=1]="normal",e[e.hard=2]="hard"}(c||(c={}));var m=function(e,t,n,l,a){return{topLeftCell:t>0&&n>0?e[t-1][n-1]:null,topCell:t>0?e[t-1][n]:null,topRightCell:t>0&&n<a?e[t-1][n+1]:null,rightCell:n<a?e[t][n+1]:null,bottomRightCell:t<l-1&&n<a-1?e[t+1][n+1]:null,bottomCell:t<l-1?e[t+1][n]:null,bottomLeftCell:t<l-1&&n>0?e[t+1][n-1]:null,leftCell:n>0?e[t][n-1]:null}},h=function(e,t,n){for(var o=[],c=0;c<e;c++){o.push([]);for(var i=0;i<t;i++)o[c].push({value:l.none,state:a.closed})}!function(e,t,n,a,o){for(;n<t;){var c=Math.floor(Math.random()*a),i=Math.floor(Math.random()*o);e[c][i].value!==l.bomb&&(e[c][i]=Object(d.a)(Object(d.a)({},e[c][i]),{},{value:l.bomb})),n++}}(o,n,0,e,t);for(var s=0;s<e;s++)for(var u=0;u<t;u++){var r=o[s][u];if(r.value!==l.bomb){var b=0,v=m(o,s,u,e,t),j=v.topLeftCell,f=v.topCell,h=v.topRightCell,O=v.rightCell,g=v.bottomRightCell,p=v.bottomCell,x=v.bottomLeftCell,C=v.leftCell;(null===j||void 0===j?void 0:j.value)===l.bomb&&b++,(null===f||void 0===f?void 0:f.value)===l.bomb&&b++,(null===h||void 0===h?void 0:h.value)===l.bomb&&b++,(null===O||void 0===O?void 0:O.value)===l.bomb&&b++,(null===g||void 0===g?void 0:g.value)===l.bomb&&b++,(null===p||void 0===p?void 0:p.value)===l.bomb&&b++,(null===x||void 0===x?void 0:x.value)===l.bomb&&b++,(null===C||void 0===C?void 0:C.value)===l.bomb&&b++,b>0&&(o[s][u]=Object(d.a)(Object(d.a)({},r),{},{value:b}))}}return o},O=function e(t,n,o,c,i){var s=t.slice();s[n][o];s[n][o].state=a.visible;var u=m(t,n,o,c,i),r=u.topLeftCell,b=u.topCell,d=u.topRightCell,v=u.rightCell,j=u.bottomRightCell,f=u.bottomCell,h=u.bottomLeftCell,O=u.leftCell;return(null===r||void 0===r?void 0:r.state)===a.closed&&r.value!==l.bomb&&(r.value===l.none?t=e(s,n-1,o-1,c,i):s[n-1][o-1].state=a.visible),(null===b||void 0===b?void 0:b.state)===a.closed&&b.value!==l.bomb&&(b.value===l.none?t=e(s,n-1,o,c,i):s[n-1][o].state=a.visible),(null===d||void 0===d?void 0:d.state)===a.closed&&d.value!==l.bomb&&(d.value===l.none?t=e(s,n-1,o+1,c,i):s[n-1][o+1].state=a.visible),(null===v||void 0===v?void 0:v.state)===a.closed&&v.value!==l.bomb&&(v.value===l.none?t=e(s,n,o+1,c,i):s[n][o+1].state=a.visible),(null===j||void 0===j?void 0:j.state)===a.closed&&j.value!==l.bomb&&(j.value===l.none?t=e(s,n+1,o+1,c,i):s[n+1][o+1].state=a.visible),(null===f||void 0===f?void 0:f.state)===a.closed&&f.value!==l.bomb&&(f.value===l.none?t=e(s,n+1,o,c,i):s[n+1][o].state=a.visible),(null===h||void 0===h?void 0:h.state)===a.closed&&h.value!==l.bomb&&(h.value===l.none?t=e(s,n+1,o-1,c,i):s[n+1][o-1].state=a.visible),(null===O||void 0===O?void 0:O.state)===a.closed&&O.value!==l.bomb&&(O.value===l.none?t=e(s,n,o-1,c,i):s[n][o-1].state=a.visible),s},g=(n(15),function(e){var t=e.row,n=e.col,o=e.state,c=e.value,i=e.onClick,s=e.onContext,u=e.red,r=e.toggleMouseClick;return Object(j.jsx)("div",{className:"button ".concat(o==a.visible?"visible":""," value-").concat(c," ").concat(o==a.flagged?"flagged":""," ").concat(u?"red":""," "),onClick:i(t,n),onContextMenu:s(t,n),onMouseDown:r(),onMouseUp:r(),children:o==a.visible?c===l.bomb?Object(j.jsx)("span",{children:" \ud83d\udca3 "}):c===l.none?null:c:o===a.flagged?Object(j.jsx)("span",{children:" \ud83d\udea9 "}):void 0})}),p=10,x=(n(16),function(e){var t=e.onChangeDifficult,n=e.isGameStarted;return Object(j.jsxs)("div",{className:"difficultChanger",children:[Object(j.jsx)("button",{disabled:n,onClick:function(){return t(c.easy)},children:" Easy "}),Object(j.jsx)("button",{disabled:n,onClick:function(){return t(c.normal)},children:" Normal "}),Object(j.jsx)("button",{disabled:n,onClick:function(){return t(c.hard)},children:" Hard "})]})}),C=s.a.createContext({}),S=function(e){var t=e.children,n=localStorage.getItem("theme"),l=Object(i.useState)(n||"light"),a=Object(v.a)(l,2),o=a[0],c=a[1];Object(i.useEffect)((function(){document.body.className="light"===o?"theme-light":"theme-dark"}),[o]);return Object(j.jsx)(C.Provider,{value:{theme:o,toggleTheme:function(){var e;"light"===o?(c("dark"),e="dark"):(c("light"),e="light"),localStorage.setItem("theme",e)}},children:t})},k=(n(17),function(){var e=Object(i.useContext)(C),t=e.theme,n=e.toggleTheme;return Object(j.jsxs)("label",{className:"themeSwitcher",children:[t.charAt(0).toUpperCase()+t.slice(1)," theme",Object(j.jsx)("div",{className:"wrapper",children:Object(j.jsx)("div",{className:"btn ".concat("light"===t?"on":"off")})}),Object(j.jsxs)("button",{hidden:!0,onClick:n,children:[" ",t," "]})]})}),N=n.p+"static/media/main.ee61ed4d.mp3",y=(n(18),n(6)),M=n.n(y),w=function(e){var t=e.isAppInit,n=Object(i.useState)(!1),l=Object(v.a)(n,2),a=l[0],o=l[1],c=Object(i.useState)(.5),s=Object(v.a)(c,2),u=s[0],r=s[1],b=Object(i.useState)(!0),d=Object(v.a)(b,2),f=d[0],m=(d[1],Object(i.useState)(!1)),h=Object(v.a)(m,2),O=h[0],g=h[1];Object(i.useEffect)((function(){t&&o(!0)}),[]);return Object(j.jsxs)("div",{className:"soundButtons",children:[Object(j.jsx)(M.a,{src:N,playing:a,volume:u,loop:f,mute:O}),Object(j.jsxs)("div",{className:"playButtons",children:[Object(j.jsx)("button",{onClick:function(){return o(!0)},children:"\u25b6\ufe0f"}),Object(j.jsx)("button",{onClick:function(){return o(!1)},children:"\u23f8\ufe0f"})]}),Object(j.jsx)("div",{className:"volume ".concat(O?"disabled":""),children:Object(j.jsxs)("label",{children:["Volume: ",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"slider-container",children:Object(j.jsx)("input",{className:"slider",disabled:O,type:"range",min:"0",max:"1",step:".1",value:u,onChange:function(e){r(+e.target.value)}})}),100*u]})}),Object(j.jsxs)("label",{className:"mute",children:["Mute:",Object(j.jsx)("input",{type:"checkbox",checked:O,onChange:function(){g(!O)}})]})]})},L=function(){var e=Object(i.useState)(!1),t=Object(v.a)(e,2),n=t[0],s=t[1],u=Object(i.useState)(9),r=Object(v.a)(u,2),b=r[0],m=r[1],C=Object(i.useState)(9),S=Object(v.a)(C,2),N=S[0],y=S[1],M=Object(i.useState)(p),L=Object(v.a)(M,2),I=L[0],D=L[1],E=Object(i.useMemo)((function(){return h(b,N,p)}),[]),R=Object(i.useState)(E),T=Object(v.a)(R,2),A=T[0],B=T[1],F=Object(i.useState)(o.smile),P=Object(v.a)(F,2),_=P[0],G=P[1],J=Object(i.useState)(0),U=Object(v.a)(J,2),H=U[0],V=U[1],Y=Object(i.useState)(!1),q=Object(v.a)(Y,2),z=q[0],K=q[1],Q=Object(i.useState)(!1),W=Object(v.a)(Q,2),X=W[0],Z=W[1],$=Object(i.useState)(!1),ee=Object(v.a)($,2),te=ee[0],ne=ee[1],le=Object(i.useState)(c.easy),ae=Object(v.a)(le,2),oe=ae[0],ce=ae[1],ie=Object(i.useState)(p),se=Object(v.a)(ie,2),ue=se[0],re=se[1];Object(i.useEffect)((function(){if(z&&H<999){var e=setInterval((function(){V(H+1)}),1e3);return function(){clearInterval(e)}}}),[z,H]),Object(i.useEffect)((function(){X&&(K(!1),G(o.lost))}),[X]),Object(i.useEffect)((function(){te&&(K(!1),G(o.won))}),[te]);var be=function(e,t){return function(){if(!te&&!X){var n=A.slice();if(!z){for(var o=n[e][t].value===l.bomb;o;)if((n=h(b,N,I))[e][t].value!==l.bomb){o=!1;break}K(!0)}var c=n[e][t];if(![a.flagged,a.visible].includes(c.state)){if(c.value===l.bomb)return Z(!0),n[e][t].red=!0,n=fe(),void B(n);c.value===l.none?n=O(n,e,t,b,N):n[e][t].state=a.visible;for(var i=!1,s=0;s<9;s++)for(var u=0;u<9;u++){var r=n[s][u];if(r.value!==l.bomb&&r.state===a.closed){i=!0;break}}i||(n=n.map((function(e){return e.map((function(e){return e.value===l.bomb?Object(d.a)(Object(d.a)({},e),{},{state:a.flagged}):e}))})),ne(!0),D(0)),B(n)}}}},de=function(e,t){return function(n){if(n.preventDefault(),z){var l=A.slice(),o=l[e][t];o.state!==a.visible&&(o.state===a.closed?(l[e][t].state=a.flagged,B(l),D(I-1)):o.state===a.flagged&&(l[e][t].state=a.closed,B(l),D(I+1)))}}},ve=function(){return function(e){(te||X)&&"face"!==e.currentTarget.className||("mousedown"===e.type?G(o.oh):"mouseup"===e.type&&G(o.smile))}},je=Object(i.useMemo)((function(){return A.map((function(e,t){return e.map((function(e,n){return Object(j.jsx)(g,{row:t,col:n,red:e.red,state:e.state,value:e.value,onClick:be,onContext:de,toggleMouseClick:ve},"".concat(t," - ").concat(n))}))}))}),[z,te,X,oe,A]),fe=function(){return A.slice().map((function(e){return e.map((function(e){return e.value===l.bomb?Object(d.a)(Object(d.a)({},e),{},{state:a.visible}):e}))}))};return n?Object(j.jsxs)("div",{className:"Minesweeper ".concat(z?"":"not-started"),children:[Object(j.jsx)(w,{isAppInit:n}),Object(j.jsx)(k,{}),Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)(f,{value:I}),Object(j.jsx)("div",{className:"face",onClick:function(){K(!1),V(0),D(ue),B(h(b,N,ue)),G(o.smile),Z(!1),ne(!1)},onMouseDown:ve(),children:Object(j.jsxs)("span",{children:[" ",_," "]})}),Object(j.jsx)(f,{value:H})]}),Object(j.jsx)("div",{className:"body  ".concat(oe===c.easy?"difficult_easy":"","  ").concat(oe===c.normal?"difficult_normal":"","   ").concat(oe===c.hard?"difficult_hard":""," "),children:je}),Object(j.jsx)("div",{className:"difficult",children:Object(j.jsx)(x,{onChangeDifficult:function(e){G(o.smile),V(0),ne(!1),Z(!1),e===c.easy&&(ce(c.easy),m(9),y(9),D(p),re(p),B(h(9,9,p))),e===c.normal&&(ce(c.normal),m(16),y(16),D(40),re(40),B(h(16,16,40))),e===c.hard&&(ce(c.hard),m(16),y(30),D(99),re(99),B(h(16,30,99)))},isGameStarted:z})})]}):Object(j.jsx)("div",{className:"introScreen",children:Object(j.jsx)("button",{onClick:function(){return s(!0)},children:"PLAY"})})};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(S,{children:Object(j.jsx)(L,{})})}),document.getElementById("root")),b()}],[[27,1,2]]]);
//# sourceMappingURL=main.6a68d88d.chunk.js.map